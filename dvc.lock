schema: '2.0'
stages:
  make_dataset:
    cmd: python -m src.data.make_dataset data/raw/application_record.csv data/raw/credit_record.csv
      data/interim/initial_dataset.csv
    deps:
    - path: data/raw/application_record.csv
      md5: 3bce864566b4183f028f3c5788c96f82
      size: 54781392
    - path: data/raw/credit_record.csv
      md5: 6ac9996c3fc235d6837c1bc5b8e4ed2f
      size: 15367102
    - path: src/data/make_dataset.py
      md5: 6e90a061c63b3a083e7ece4e11cf62fc
      size: 4339
    outs:
    - path: data/interim/initial_dataset.csv
      md5: 174ea00a2179662567a2c87132e1406c
      size: 1207422
  clean_dataset:
    cmd: python -m src.data.clean_dataset data/interim/initial_dataset.csv data/interim/cleaned_dataset.csv
    deps:
    - path: data/interim/initial_dataset.csv
      md5: 174ea00a2179662567a2c87132e1406c
      size: 1207422
    - path: src/data/clean_dataset.py
      md5: 10a0a23c39060e4c588958d6dd006c37
      size: 2036
    outs:
    - path: data/interim/cleaned_dataset.csv
      md5: 65a2b87d156b58fc071b741b0e5681a2
      size: 1462453
  get_train_test:
    cmd: python -m src.data.get_train_test data/interim/cleaned_dataset.csv data/processed/train_dataset.csv
      data/processed/test_dataset.csv
    deps:
    - path: data/interim/cleaned_dataset.csv
      md5: 65a2b87d156b58fc071b741b0e5681a2
      size: 1462453
    - path: src/data/get_train_test.py
      md5: 8eec9c21755edf1256fcfd1ff1fd62ac
      size: 1348
    outs:
    - path: data/processed/test_dataset.csv
      md5: b91cf88f9c7acab82eb7bd1ff48032d5
      size: 291752
    - path: data/processed/train_dataset.csv
      md5: 1b95a973d536ac2c6b6987a2d37a6a5b
      size: 1165313
  train_model:
    cmd: python -m src.models.train_model data/processed/train_dataset.csv models/final_model.pkl
    deps:
    - path: data/processed/train_dataset.csv
      md5: 1b95a973d536ac2c6b6987a2d37a6a5b
      size: 1165313
    - path: src/models/train_model.py
      md5: 35ba6be2e1082e277aa9e0706b478b17
      size: 1429
    outs:
    - path: models/final_model.pkl
      md5: 34c06ce0d1f6b8c78166f4017a5cc169
      size: 1137472
  make_predictions:
    cmd: python -m src.models.make_predictions data/processed/test_dataset.csv models/final_model.pkl
      models/predictions/predictions.csv
    deps:
    - path: data/processed/test_dataset.csv
      md5: b91cf88f9c7acab82eb7bd1ff48032d5
      size: 291752
    - path: models/final_model.pkl
      md5: 34c06ce0d1f6b8c78166f4017a5cc169
      size: 1137472
    - path: src/models/make_predictions.py
      md5: ec0f6ad95c3e47577dde27cb1c8f61d3
      size: 1868
    outs:
    - path: models/predictions/predictions.csv
      md5: 1aab064ad0383cab4ba0e98a3ab1c170
      size: 87213
  evaluate_predictions:
    cmd: python -m src.models.evaluate_predictions data/processed/test_dataset.csv
      models/predictions/predictions.csv models/metrics/metrics.json
    deps:
    - path: data/processed/test_dataset.csv
      md5: b91cf88f9c7acab82eb7bd1ff48032d5
      size: 291752
    - path: models/predictions/predictions.csv
      md5: 1aab064ad0383cab4ba0e98a3ab1c170
      size: 87213
    - path: src/models/evaluate_predictions.py
      md5: 7d5d8454904d26764d03fe713c78c89c
      size: 1493
    outs:
    - path: models/metrics/metrics.json
      md5: 046c280367d32a5681c8b21236141b15
      size: 96
  get_unique_column_values:
    cmd: python -m src.data.get_unique_column_values data/interim/cleaned_dataset.csv
      models/other/unique_column_values.pkl
    deps:
    - path: data/interim/cleaned_dataset.csv
      md5: 65a2b87d156b58fc071b741b0e5681a2
      size: 1462453
    - path: src/data/get_unique_column_values.py
      md5: 71baff06db43e03dd777f95d6d26846d
      size: 851
    outs:
    - path: models/other/unique_column_values.pkl
      md5: 025c104c892c63dd21e2ee0023b6e223
      size: 992
