schema: '2.0'
stages:
  make_dataset:
    cmd: python -m src.data.make_dataset data/raw/application_record.csv data/raw/credit_record.csv
      data/interim/initial_dataset.csv
    deps:
    - path: data/raw/application_record.csv
      md5: 3bce864566b4183f028f3c5788c96f82
      size: 54781392
    - path: data/raw/credit_record.csv
      md5: 6ac9996c3fc235d6837c1bc5b8e4ed2f
      size: 15367102
    - path: src/data/make_dataset.py
      md5: fe13981d6e961a82705a3b50051e1cc2
      size: 2817
    outs:
    - path: data/interim/initial_dataset.csv
      md5: 174ea00a2179662567a2c87132e1406c
      size: 1207422
  clean_dataset:
    cmd: python -m src.data.clean_dataset data/interim/initial_dataset.csv data/interim/cleaned_dataset.csv
    deps:
    - path: data/interim/initial_dataset.csv
      md5: 174ea00a2179662567a2c87132e1406c
      size: 1207422
    - path: src/data/clean_dataset.py
      md5: cd6b7c380af5a188cec0479b55ef50b8
      size: 1712
    outs:
    - path: data/interim/cleaned_dataset.csv
      md5: 307b04cbbf3bf16158d2806636ccf17c
      size: 1452345
  get_train_test:
    cmd: python -m src.data.get_train_test data/interim/cleaned_dataset.csv data/processed/train_dataset.csv
      data/processed/test_dataset.csv
    deps:
    - path: data/interim/cleaned_dataset.csv
      md5: 307b04cbbf3bf16158d2806636ccf17c
      size: 1452345
    - path: src/data/get_train_test.py
      md5: d98f2e0ce2009e7a3ae2e46a6aba07e0
      size: 920
    outs:
    - path: data/processed/test_dataset.csv
      md5: 8fe3930b1669af689f1fa696ef1e8c49
      size: 289710
    - path: data/processed/train_dataset.csv
      md5: a7a163849d30988c1683c7a2c51ee9f9
      size: 1157247
  train_model:
    cmd: python -m src.models.train_model data/processed/train_dataset.csv models/final_model.pkl
    deps:
    - path: data/processed/train_dataset.csv
      md5: a7a163849d30988c1683c7a2c51ee9f9
      size: 1157247
    - path: src/models/train_model.py
      md5: 1b1f4529bc24a2a4c20e5a7c9f64e89b
      size: 1115
    outs:
    - path: models/final_model.pkl
      md5: 0901cf85b2cd00d7e40edbab7146898f
      size: 1136706
  make_predictions:
    cmd: python -m src.models.make_predictions data/processed/test_dataset.csv models/final_model.pkl
      reports/predictions.csv
    deps:
    - path: data/processed/test_dataset.csv
      md5: 8fe3930b1669af689f1fa696ef1e8c49
      size: 289710
    - path: models/final_model.pkl
      md5: 0901cf85b2cd00d7e40edbab7146898f
      size: 1136706
    - path: src/models/make_predictions.py
      md5: bc651b363799e67090611f13317abce2
      size: 812
    outs:
    - path: reports/predictions.csv
      md5: 3b13fc069c539044fa0ae9448f0cb2a9
      size: 99246
  evaluate_predictions:
    cmd: python -m src.models.evaluate_predictions data/processed/test_dataset.csv
      reports/predictions.csv reports/metrics.json
    deps:
    - path: data/processed/test_dataset.csv
      md5: 8fe3930b1669af689f1fa696ef1e8c49
      size: 289710
    - path: reports/predictions.csv
      md5: 3b13fc069c539044fa0ae9448f0cb2a9
      size: 99246
    - path: src/models/evaluate_predictions.py
      md5: 581fab2e0e7f12b142ccbdf4f8f08ce7
      size: 875
    outs:
    - path: reports/metrics.json
      md5: b78f47b85260237f49a65751a224230d
      size: 31
  get_unique_column_values:
    cmd: python -m src.data.get_unique_column_values data/interim/cleaned_dataset.csv
      reports/unique_column_values.pkl
    deps:
    - path: data/interim/cleaned_dataset.csv
      md5: 307b04cbbf3bf16158d2806636ccf17c
      size: 1452345
    - path: src/data/get_unique_column_values.py
      md5: 7530ba67c6d920e6594bf0c07114a645
      size: 648
    outs:
    - path: reports/unique_column_values.pkl
      md5: f70ee0b62931b9e172c520688ea0f0a5
      size: 978
